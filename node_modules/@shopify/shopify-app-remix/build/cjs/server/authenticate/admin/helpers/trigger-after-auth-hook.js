'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var createAdminApiContext = require('./create-admin-api-context.js');

async function triggerAfterAuthHook(params, session, request, authStrategy) {
  const {
    config,
    logger
  } = params;
  if (config.hooks.afterAuth) {
    logger.info('Running afterAuth hook');
    await config.hooks.afterAuth({
      session,
      admin: createAdminApiContext.createAdminApiContext(session, params, authStrategy.handleClientError(request))
    });
  }
}

exports.triggerAfterAuthHook = triggerAfterAuthHook;
