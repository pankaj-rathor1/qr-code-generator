"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.respondToInvalidSessionToken = void 0;
var redirect_to_bounce_page_1 = require("../admin/helpers/redirect-to-bounce-page");
var const_1 = require("../const");
function respondToInvalidSessionToken(_a) {
    var params = _a.params, request = _a.request, _b = _a.retryRequest, retryRequest = _b === void 0 ? false : _b;
    var api = params.api, logger = params.logger, config = params.config;
    var isDocumentRequest = !request.headers.get('authorization');
    if (isDocumentRequest) {
        return (0, redirect_to_bounce_page_1.redirectToBouncePage)({ api: api, logger: logger, config: config }, new URL(request.url));
    }
    throw new Response(undefined, {
        status: 401,
        statusText: 'Unauthorized',
        headers: retryRequest ? const_1.RETRY_INVALID_SESSION_HEADER : {},
    });
}
exports.respondToInvalidSessionToken = respondToInvalidSessionToken;
//# sourceMappingURL=respond-to-invalid-session-token.js.map